<!DOCTYPE html>
<html lang="en">
<head>
<style type = "text/css">
p {
	font-size: 24px;
	font-weight: bold;
	font-family: Arial, Helvetica, sans-serif;
}
div.bar{
display:	inline-block;	
width:	20px;				
height:	75px;			/*	We'll	override	height	later	*/				
background-color:	teal; 
margin-right: 2px;
}
</style>
<meta charset="utf-8">
<title>Exercises from lecture 1 and 2 for now</title>
<script type="text/javascript" src="d3.js"></script>
<style>
.axis path,
.axis line {
	fill: none;
	stroke: black;
	shape-rendering: crispEdges;
}

.axis text{
 font-family: sans-serif;
 font-size: 11px;
}

</style>
</head>
<body>
<div id="start"></div>

<!-- Creating an svg object to draw stuff --> 
<svg width="500" height="100">
<rect	x="0"	y="20"	width="80"	height="80"	fill="purple" stroke="gray"	stroke-width="2" opacity="1.0"/>
 <rect	x="30"	y="15"	width="80"	height="80"	fill="blue" stroke="gray"	stroke-width="2" opacity ="0.85"/> 
 <rect	x="60"	y="10"	width="80"	height="80"	fill="green" stroke="gray"	stroke-width="2" opacity = "0.7" />
  <rect	x="90"	y="5"	width="80"	height="80"	fill="yellow" stroke="gray"	stroke-width="2"opacity = "0.55" />
 <rect	x="120"	y="0"	width="80"	height="80"	fill="red" stroke="gray"	stroke-width="2" opacity = "0.4" />
 </svg>
 
<div id="finish"></div>

<script type="text/javascript">
//your code goes here

//LECTURE 1 - trying stuff
d3.select("#start")
.append("p")
.text("Lecture 1");

var numstrToNum = function(d){
	return {
		Data: parseFloat(d.Data)
	}
};
//var dataset = [5, 10, 15, 20, 25];
var dataset = [];
d3.csv("data.csv",numstrToNum, function(error, data)	{
if (error){
	console.log(error);
}
else{
	data.map(function(d){
		dataset.push(d.Data);
	})
	console.log(data); 
	generateVisualization();
	createBarChart();
}
});

var generateVisualization = function () {
	d3.select("#start").selectAll("p")
	.data(dataset)
	.enter()
	.append("p")
	.text(function(d){ return "I can count up to " + d; })
	.style("color",function(d){
		if(d > 15){
			return "red";
		}
		else{
			return "black";
		}
	})
};
/*var	dataset	=	[];
for (var i = 0; i < 10; i++){
	var newNumber = Math.random() * 30;
	dataset.push(newNumber);
}*/
//d3.select("body").append("p").text("New	paragraph!");
/*
d3.select("body").selectAll("p")
.data(dataset) // counts the elems in dataset and parses them, also magic that allows anonymous func to process data elements 1 by 1
.enter()            // creates placeholders for not yet existing DOM elems
.append("p").
text(function(d) { return "I can count up to " + d; }).
style("color", function(d){    // style applies CSS styles directly to an element, whereas attr sets DOM attribute values.
	if (d > 15){
		return "red";
	}
	else {
		return "black";
	}
}); */
// Create a simple bar chart with the height dependent on the data value
var createBarChart = function(){
	d3.select("body").selectAll("div")
.data(dataset)
.enter()
.append("div")
.attr("class","bar")
.style("height", function(d) {
var barHeight = d*5;
return barHeight + "px";
});
};
// Parsing floats from deliciousness level of food for csv test
var rowConverter = function(d) {
	return {
		Food: d.Food,
		Deliciousness: parseFloat(d.Deliciousness)
	}
};
d3.csv("food.csv", rowConverter, function(error, data)	{
if (error){
	console.log(error);
}
else{
	console.log(data); 
}
});
</script>




 
 <script type="text/javascript">


//LECTURE 2 - drawing stuff
d3.select("#finish")
.append("p")
.text("Lecture 2");
	
var width = 295;
var height = 200;

//Load data from presidents.csv

var presidentDataset = [];
var yearInt = function(row){
	return{
	  President: row.President,
	  Months: parseFloat(row.Months)
	}
}
d3.csv("presidents.csv", yearInt, function(data) {
	console.log(data);
	data.map(function(d){
	   presidentDataset.push([d.President,d.Months]); // push both values to created array
	})
	createScatterPlots();
});
var xScale = d3.scale.linear()
	.domain([0,160])
	.range([0,width]);
	
var createScatterPlots = function(){

	var xAxis = d3.svg.axis()
	.ticks(11)
	.scale(xScale)
	.orient("bottom"); // labels will appear to the bottom of the axis
	
	
	var scatterSvg = d3.select("#finish")
	.append("svg")
	.append("g")
	.attr("width", width)
    .attr("height", height)
	.attr("transform","translate(4,0)"); // move our svg to the right
	
	scatterSvg.selectAll("circle")
	.data(presidentDataset)
	.enter()
	.append("circle")
	.attr("cx", function(d) { //x coordinate depends on the months number (scaled by xScale defined above)
	return xScale(d[1]);
	})
	.attr("cy", function(d) { //y will be randomized
	return Math.random()*(90-50) + 50;	
	})
	.attr("r", function(d){
	return Math.sqrt(30);
	})
	.attr("fill", "none")
	.attr("stroke", "black");
	//.attr("transform","translate(3,0)"); //NOT SURE
	
	scatterSvg.selectAll("text")
	.data(presidentDataset)
	.enter()
	.append("text")
	.text("x")
	.attr("x", function(d) {
	return xScale(d[1]);
	})
	.attr("y", 20)
	.attr("font-family", "sans-serif")
	.attr("font-size", "14px")
	.attr("fill", "black")
	.attr("text-anchor", "middle");
	//.attr("transform","translate(3,0)"); //NOT SURE
	
	scatterSvg.append("g").attr("class","axis").attr("transform","translate(0,120)").call(xAxis); // transform the xAxis to go +120 y // X=3? NOT SURE
	scatterSvg.append("text").text("Months in Office").attr("x",width/2).attr("y",150).attr("font-family", "sans-serif")
	.attr("font-size", "14px")
	.attr("fill", "black")
	.attr("text-anchor", "middle");
	
	//scatterSvg.axis().orient("bottom");
	

}
</script>
</body>
</html>